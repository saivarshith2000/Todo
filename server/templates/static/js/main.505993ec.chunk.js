(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{141:function(e,t,n){"use strict";n.r(t);var c=n(159),o=n(0),r=n(42),i=n.n(r),a=n(162),l=n(56),d=n(87),s=n(161),j=n(93),u=n(154),b=n(88),h=n(143),O=n(152),m=n(70),g=n(3),x=function(e){var t=Object(h.b)().toggleColorMode,n=Object(h.c)("dark","light"),c=Object(h.c)(m.a,m.b);return Object(g.jsx)(O.a,Object(b.a)({size:"md",fontSize:"lg","aria-label":"Switch to ".concat(n," mode"),variant:"ghost",color:"current",marginLeft:"2",onClick:t,icon:Object(g.jsx)(c,{})},e))},f=n(158),p=n(163),v=n(165),y=n(89),C=n.n(y).a.create({baseURL:"/api"}),w=function(){return C.get("/todos/").then((function(e){return e.data}))},S=function(e){return C.post("/todos/",e).then((function(e){return e.data}))},A=function(e){return C.delete("/todos/".concat(e,"/")).then((function(e){return e.data}))},k=function(e){return C.post("/complete_todo/",{id:e}).then((function(e){return e.data}))};function D(){var e=Object(h.b)().colorMode;return Object(g.jsx)(u.a,{bg:"light"===e?"red.100":"red.700",color:"light"===e?"red.700":"red.100",fontWeight:"bold",padding:5,my:10,mx:"auto",rounded:"md",width:"50%",justifyContent:"center",children:"An error Occured while fetching your todos :("})}function M(){var e=Object(h.b)().colorMode;return Object(g.jsx)(u.a,{bg:"light"===e?"yellow.100":"yellow.700",color:"light"===e?"yellow.700":"yellow.100",fontWeight:"bold",padding:5,my:10,mx:"auto",rounded:"md",width:"50%",justifyContent:"center",children:"Loading your todos..."})}function z(){var e=Object(h.b)().colorMode;return Object(g.jsx)(u.a,{bg:"light"===e?"green.100":"green.700",color:"light"===e?"green.700":"green.100",fontWeight:"bold",padding:5,my:10,mx:"auto",rounded:"md",width:"50%",justifyContent:"center",children:"Yay! You don't have anything to do :)"})}var T=n(4),N=n(164),I=n(97),L=n(160),W=n(155),Q=n(156),R=n(157);function q(e){var t=e.handleAddTodo,n=e.addStatus,c=Object(N.a)(),r=c.isOpen,i=c.onOpen,a=c.onClose,l=Object(o.useState)(!1),d=Object(T.a)(l,2),s=d[0],j=d[1],u=Object(o.useState)(""),b=Object(T.a)(u,2),h=b[0],O=b[1],m=Object(o.useState)(""),x=Object(T.a)(m,2),f=x[0],p=x[1];function v(){j(!1),O(""),p(""),a()}return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(I.a,{onClick:i,mt:5,size:"md",width:"25%",children:"Add Todo"}),Object(g.jsxs)(L.a,{isOpen:r,onClose:v,size:"3xl",children:[Object(g.jsx)(L.g,{}),Object(g.jsxs)(L.d,{children:[Object(g.jsx)(L.f,{fontWeight:"normal",children:"New Todo"}),Object(g.jsx)(L.c,{}),Object(g.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(h,f),"error"===n?j(!0):v()},children:[Object(g.jsxs)(L.b,{pb:5,children:[Object(g.jsx)(W.a,{name:"title",placeholder:"Title",variant:"filled",mb:"5",isRequired:!0,value:h,onChange:function(e){return O(e.target.value)}}),Object(g.jsx)(Q.a,{name:"content",placeholder:"Content",variant:"filled",rows:"5",resize:"vertical",isRequired:!0,value:f,onChange:function(e){return p(e.target.value)}}),s?Object(g.jsx)(R.a,{color:"red.400",fontWeight:"bold",p:2,mt:2,rounded:"md",children:"An error occured while adding new todo item"}):null]}),Object(g.jsxs)(L.e,{children:[Object(g.jsx)(I.a,{colorScheme:"green",mr:3,type:"submit",variant:"ghost",children:"Add"}),Object(g.jsx)(I.a,{onClick:v,variant:"ghost",children:"Cancel"})]})]})]})]})]})}var F=864e5;function J(e,t){var n=new Date(e).getTime(),c=new Date(t).getTime(),o=0,r="";if(isNaN(n)||isNaN(c))return"";o=n<c?c-n:n-c;var i=Math.floor(o/F);i>0&&(r+=i+"d ",o-=i*F);var a=Math.floor(o/1e3%60),l=Math.floor(o/6e4%60),d=Math.floor(o/36e5%24);return d>0&&(r+=d+"h "),l>0&&(r+=l+"m "),a>0&&(r+=a+"s "),r}function Y(e){var t=e.todo,n=e.handleDelete,c=e.handleComplete,o=Object(N.a)(),r=o.isOpen,i=o.onOpen,a=o.onClose,l=Object(h.c)("gray.700","gray.100"),d=Object(h.c)("gray.100","gray.600"),s=Object(h.c)("gray.200","gray.500");return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(u.a,{width:"70%",justifyContent:"space-between",mx:"auto",mt:2,rounded:"md",px:5,alignItems:"center",bg:d,_hover:{cursor:"pointer",background:s},children:[Object(g.jsx)(u.a,{py:4,onClick:i,color:l,flex:1,alignItems:"flex-start",children:t.title}),Object(g.jsxs)(u.a,{direction:"row",children:[t.completed?null:Object(g.jsx)(I.a,{variant:"ghost",colorScheme:"green",ml:2,onClick:function(){return c(t.id)},children:"Mark Complete"}),Object(g.jsx)(I.a,{variant:"ghost",colorScheme:"red",onClick:function(){return n(t.id)},children:"Delete"})]})]}),Object(g.jsxs)(L.a,{isOpen:r,onClose:a,size:"3xl",children:[Object(g.jsx)(L.g,{}),Object(g.jsxs)(L.d,{children:[Object(g.jsx)(L.f,{children:t.title}),Object(g.jsx)(L.c,{}),Object(g.jsxs)(L.b,{pb:5,children:[Object(g.jsxs)(R.a,{fontSize:"smaller",color:"gray.500",mb:2,children:["Added at"," ",new Date(t.addedAt).toLocaleString("en-IN")]}),t.completed?Object(g.jsxs)(R.a,{fontSize:"smaller",color:"green.500",mb:2,children:["Completed at"," ",new Date(t.completedAt).toLocaleString("en-IN")+" | ".concat(J(t.completedAt,t.addedAt))]}):null,Object(g.jsx)(R.a,{children:t.content})]}),Object(g.jsxs)(L.e,{children:[Object(g.jsx)(I.a,{variant:"ghost",colorScheme:"red",onClick:function(){return n(t.id)},children:"Delete"}),t.completed?null:Object(g.jsx)(I.a,{variant:"ghost",colorScheme:"green",ml:2,onClick:function(){return c(t.id)},disabled:t.completed,children:"Mark Complete"})]})]})]})]})}function _(e){var t=e.todos,n=e.handleDelete,c=e.handleComplete;return 0===(null===t||void 0===t?void 0:t.length)?Object(g.jsx)(z,{}):Object(g.jsx)(u.a,{mt:5,direction:"column",width:"100%",children:t.map((function(e){return Object(g.jsx)(Y,{handleDelete:n,handleComplete:c,todo:e},e.id)}))})}function B(){var e=Object(h.c)("gray.700","gray.100"),t=Object(p.a)("todos",w),n=t.data,c=t.status,o=Object(l.b)(),r=Object(v.a)(S,{onSuccess:function(){return o.invalidateQueries("todos")}}),i=r.status,a=r.mutateAsync,d=Object(v.a)(A,{onSuccess:function(){return o.invalidateQueries("todos")}}).mutateAsync,s=Object(v.a)(k,{onSuccess:function(){return o.invalidateQueries("todos")}}).mutateAsync;function j(e){d(e)}function b(e){s(e)}return Object(g.jsxs)(u.a,{direction:"column",justifyContent:"center",textAlign:"center",alignItems:"center",children:[Object(g.jsx)(f.a,{fontSize:"4xl",color:e,children:"Todo"}),Object(g.jsx)(q,{handleAddTodo:function(e,t){a({title:e,content:t})},addStatus:i}),"loading"===c?Object(g.jsx)(M,{}):"error"===c?Object(g.jsx)(D,{}):Object(g.jsx)(_,{todos:n,handleDelete:j,handleComplete:b})]})}var E=function(){return Object(g.jsx)(s.a,{theme:j.theme,children:Object(g.jsxs)(u.a,{direction:"column",px:"10%",py:5,children:[Object(g.jsx)(u.a,{justifyContent:"flex-end",children:Object(g.jsx)(x,{})}),Object(g.jsx)(B,{})]})})},U=new a.a;i.a.render(Object(g.jsx)(o.StrictMode,{children:Object(g.jsxs)(l.a,{client:U,children:[Object(g.jsx)(c.a,{}),Object(g.jsx)(E,{}),Object(g.jsx)(d.ReactQueryDevtools,{})]})}),document.getElementById("root"))}},[[141,1,2]]]);
//# sourceMappingURL=main.505993ec.chunk.js.map